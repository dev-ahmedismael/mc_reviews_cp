<div>
  <h2 class="text-2xl mb-5">بيان تقييمات الموظف</h2>

  <div>
    <form
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
      class="grid grid-cols-1 lg:grid-cols-3 gap-5"
    >
      <div>
        <p-select
          [options]="employees"
          placeholder="ابحث عن موظف"
          [editable]="true"
          optionLabel="name"
          optionValue="id"
          class="w-full"
          formControlName="employee_id"
        />
      </div>
      <div>
        <p-datepicker
          formControlName="start_date"
          placeholder="ابتداء من تاريخ"
          class="w-full"
          styleClass="w-full"
        />
      </div>
      <div>
        <p-datepicker
          formControlName="end_date"
          placeholder="إنتهاء إلى تاريخ"
          class="w-full"
          styleClass="w-full"
        />
      </div>

      <div></div>

      <div></div>

      <div>
        <p-button
          type="submit"
          label="بحث"
          icon="pi pi-search"
          styleClass="w-full"
          [loading]="loading"
          dir="ltr"
        ></p-button>
      </div>
    </form>
  </div>

  @if (employee) {
  <div class="pt-5">
    <table class="w-full text-center">
      <thead class="py-2 bg-slate-300">
        <th class="py-2">غير راضي</th>
        <th class="py-2">محايد</th>
        <th class="py-2">راضي</th>
        <th class="py-2">راضي جداً</th>
      </thead>
      <tbody>
        <tr>
          <td class="py-2">{{ employee.ratings[1] }}</td>
          <td class="py-2">{{ employee.ratings[2] }}</td>
          <td class="py-2">{{ employee.ratings[3] }}</td>
          <td class="py-2">{{ employee.ratings[4] }}</td>
        </tr>
      </tbody>
    </table>
    <table class="w-full text-center">
      <thead class="bg-slate-300 py-2">
        <th class="py-2">الملاحظات على الموظف</th>
      </thead>
      <tbody>
        @for (item of employee.notes; track $index) {
        <tr>
          <td class="py-2" [ngClass]="$index % 2 === 0 ? 'bg-slate-100' : ''">
            {{ item }}
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }
</div>
